<script id="save-modal.html" type="text/ng-template">
  <ion-modal-view>
    <ion-header-bar class="bar bar-header bar-positive">
      <h1 class="title">Save Waypoints</h1>
      <button class="button button-clear" ng-click="saveModal.hide()">Cancel</button>
    </ion-header-bar>
    <ion-content class="padding">
      <div class="list list-inset">
        <label class="item item-input item-stacked-label">
          <span class="input-label">Adventure Name</span>
          <input ng-model="newHunt.name" type="text" placeholder="New Adventure">
        </label>
      </div>
      <ul class="list">
        <li class="item item-toggle">
          Scavenger Hunt
          <label class="toggle">
            <input type="checkbox" ng-model="newHunt.scavenger">
            <div class="track">
              <div class="handle"></div>
            </div>
          </label>
        </li>
      </ul>
        <button class="button button-full button-positive" ng-click="preSave()">Save</button>
    </ion-content>
  </ion-modal-view>
</script>

<ion-view view-title="Map">
    <ion-content>
      <div class="bar bar-header bar-assertive" ng-show="mode === 'create'">
        <h1 class="title">Create Mode</h1>
        <button class="button button-positive" on-tap="saveModal.show()">Save</button>
      </div>
      <div class="bar bar-header bar-balanced" ng-show="mode === 'hunt' && huntProgress === null">
        <h1 class="title">No Waypoint Loaded</h1>
        <button class="button button-positive" on-tap="goToLoad()">Load</button>
      </div>
      <div class="bar bar-header bar-balanced" ng-show="mode === 'hunt' && huntProgress !== null">
        <h1 class="title">{{huntName}}</h1>
        <button class="button button-positive" on-tap="goToLoad()" ng-show="!nextDestination">Load</button>
      </div>
      <div id="search">
        <input id="address" type="text" placeholder="Go to location" ng-model="text" name="text" ng-keyup="$event.keyCode == 13 && geocodeAddress()"/>
      </div>

      <div id="button">
        <button class="button button-small button-balanced" on-tap="switchMode()">
          Switch Mode (Dev)
        </button>
        <button class="button button-small button-stable" on-tap="previousWaypoint()"
        ng-show="mode === 'create' && selectedID !== null && selectedID !== 0">
          Previous Waypoint
        </button>
        <button class="button button-small button-stable" on-tap="nextWaypoint()"
        ng-show="mode === 'create' && selectedID !== null && selectedID !== waypoints.length - 1">
          Next Waypoint
        </button>
        <button class="button button-stable"  on-tap="goToStart()"
        ng-show="mode === 'create' && selectedID === null && waypoints.length !== 0">
          Go to Start
        </button>

        <!-- delete marker that has been clicked -->
        <button class="button button-assertive" on-tap="deleteWaypoint()" ng-show="mode === 'create' && selectedID !== null">
          Delete Waypoint
        </button>

        <!-- drop marker on current location button -->
        <button class="button button-positive" on-tap="currentLocation()" ng-show="mode === 'hunt' || selectedID === null">
          Current Location
        </button>
      </div>

      <!-- map -->
      <div id="map" data-tap-disabled="true" on-tap="createWaypoint()"></div>

    </ion-content>
</ion-view>

  <!-- using ng-keyup="$event.keyCode == 13 fires the func after '&&' when 'enter' is pressed - this is used unstead of ng-submit so that the button and input field can be inline without a form elemant around them which cause one to trigger the other - check compatible on phone-->
  <!-- <pre>list={{text}}</pre> linked to local storage of address in controller -->
